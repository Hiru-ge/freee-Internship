# 勤怠管理システム - タスク管理

## 概要
勤怠管理チェックアプリのタスク管理一覧です。
現在の基本機能は実装完了しており、以下の項目は今後の改善・拡張として管理しています。

---

## ✅ 完了済みフェーズ

### Phase 1: Rails基盤構築 ✅ **完了**
**期間**: 完了済み
**優先度**: ✅ 完了

- [x] Railsアプリケーションの作成
  - 新しいRails 8.0.2アプリケーションの作成
  - 必要なgemの設定（line-bot-api, dotenv-rails等）
  - 基本的なディレクトリ構造の構築
  - 見積時間: 30分

- [x] 基本的なWebhookエンドポイントの実装
  - WebhookControllerの作成
  - LINE Bot SDKの設定
  - 基本的なメッセージ受信・応答機能
  - 見積時間: 30分

### Phase 2: 既存機能完全移行 ✅ **完了**
**期間**: 完了済み
**優先度**: ✅ 完了

#### Phase 2-1: 認証システム移行 ✅ **完了**
- [x] データベース設計・実装
  - employeesテーブル（認証情報のみ）
  - verification_codesテーブル（認証コード管理）
  - マイグレーション実行
  - 見積時間: 30分

- [x] 認証システムの完全移行
  - ログイン画面（view_login.html → app/views/auth/login.html.erb）
  - 初回パスワード設定（view_initial_password.html → app/views/auth/initial_password.html.erb）
  - パスワード変更（view_password_change.html → app/views/auth/password_change.html.erb）
  - パスワード忘れ（view_forgot_password.html → app/views/auth/forgot_password.html.erb）
  - 見積時間: 2時間

- [x] freee API連携の実装
  - FreeeApiService（code-api.js → app/services/freee_api_service.rb）
  - 認証サービス（code-auth.js → app/services/auth_service.rb）
  - 従業員情報の動的取得
  - 実データでのDB再構築
  - 見積時間: 1.5時間

- [x] メール送信機能の実装
  - AuthMailer（Gmail SMTP連携）
  - 認証コード送信機能
  - パスワードリセット機能
  - 見積時間: 1時間

- [x] 環境変数への移行
  - 機密情報の.envファイル分離
  - セキュリティ向上
  - 見積時間: 30分

- [x] 認証機能のテスト・コミット
  - ログイン機能の動作確認
  - パスワード変更機能の動作確認
  - freee API連携の動作確認
  - セッション管理の動作確認
  - コミット: "feat: 認証システムの完全移行"
  - 見積時間: 30分

#### Phase 2-2: マイページ機能移行 ✅ **完了**
- [x] マイページ機能の完全移行
  - マイページトップ（view_my_page.html → app/views/dashboard/index.html.erb）
  - 打刻機能（code-clock.js → app/services/clock_service.rb）
  - 勤怠履歴表示
  - 月次ナビゲーション
  - 見積時間: 2時間

- [x] マイページ機能のテスト・コミット
  - 打刻機能の動作確認
  - 勤怠履歴の表示確認
  - コミット: "feat: マイページ・打刻機能の完全移行"
  - 見積時間: 30分

#### Phase 2-3: シフト管理機能移行 ✅ **完了**
- [x] シフト管理機能の完全移行
  - シフトページ（view_shift_page.html → app/views/shifts/index.html.erb）
  - シフト表示・確認機能
  - 月次ナビゲーション
  - 見積時間: 1.5時間

- [x] シフト情報のDB取り込み
  - Shiftモデルの作成
  - マイグレーション実行
  - GASテストデータの移植（81件）
  - 見積時間: 1時間

- [x] freee API連携によるシフトデータ取得
  - FreeeApiService#get_employees実装
  - ShiftsController#data実装
  - 従業員情報とシフトデータの統合
  - 見積時間: 1時間

- [x] 103万の壁ゲージのHTML枠作成
  - オーナー向け給与ゲージセクション
  - 従業員向け個人ゲージセクション
  - 実装予定表示
  - 見積時間: 0.5時間

- [x] シフト管理機能のテスト・コミット
  - シフト表示の動作確認
  - ナビゲーションの動作確認
  - GAS版との整合性確認
  - コミット: "feat: シフト管理機能の完全移行"
  - 見積時間: 30分

#### Phase 2-4: シフト交代機能移行 ✅ **完了**
- [x] シフト交代機能の完全移行
  - シフト交代リクエスト（view_shift_request_form.html → app/views/shifts/request.html.erb）
  - シフト交代承認（view_shift_approval.html → app/views/shifts/approval.html.erb）
  - シフト追加依頼（view_shift_add_form.html → app/views/shifts/add.html.erb）
  - 見積時間: 2.5時間

- [x] シフト交代機能のテスト・コミット
  - リクエスト送信の動作確認
  - 承認・否認の動作確認
  - メール通知機能の実装
  - シフト重複チェック機能の実装
  - API互換性（GAS互換）の実装
  - コミット: "feat: シフト交代機能の完全移行"
  - 見積時間: 30分

#### Phase 2-5: 給与管理機能移行 ✅ **完了**
- [x] 給与管理機能の完全移行
  - 103万の壁ゲージ（code-wage.js → app/services/wage_service.rb）
  - 給与計算・表示機能
  - 時間帯別時給システム
  - 見積時間: 2時間

- [x] 給与管理機能のテスト・コミット
  - 給与計算の動作確認
  - ゲージ表示の動作確認
  - 給与一覧画面の実装
  - ダッシュボード・シフトページ統合
  - シフトページデザイン統一（ダークテーマ）
  - 個人給与詳細ページ削除（GASに存在しないため）
  - コミット: "feat: 給与管理機能の完全移行"
  - 見積時間: 30分

### Phase 3: 統合・最適化 ✅ **完了**
**期間**: 完了済み
**優先度**: ✅ 完了

#### Phase 3-1: UI・UX統一 ✅ **完了**
- [x] CSS・デザイン統一
  - css.html → app/assets/stylesheets/application.css
  - 全画面のデザイン統一
  - レスポンシブ対応
  - 見積時間: 1時間

- [x] エラーハンドリング統一
  - 統一されたエラー表示システム
  - エラーメッセージの標準化
  - 見積時間: 1時間

- [x] ローディング状態改善
  - プログレスバー、詳細なローディング表示
  - ユーザビリティ向上
  - 見積時間: 1時間

#### Phase 3-2: バックグラウンド処理 ✅ **完了**
- [x] 自動通知機能の実装（メール通知）
  - 打刻リマインダーの送信（ClockReminderService、ClockReminderJob）
  - シフト変更通知（ShiftMailer、EmailNotificationService）
  - 認証関連通知（AuthMailer）
  - 見積時間: 2時間

### Phase 4: UX改善・ユーザビリティ向上 ✅ **完了**
**期間**: 完了済み
**優先度**: ✅ 完了

#### Phase 4-1: UX改善実装 ✅ **完了**
- [x] 自分のシフト以外をクリックできないようにする
  - シフト表で自分のシフトのみクリック可能にする
  - 他人のシフトは視覚的にクリック不可であることを示す
  - 見積時間: 1時間

- [x] シフト交換依頼時の依頼元変更制限
  - 申請者フィールドを読み取り専用にして変更不可にする
  - 依頼元は必ず自分なので変更できないようにする
  - 見積時間: 0.5時間

- [x] 全ユーザー表示時のIDソート
  - 従業員一覧をID順でソートして表示する
  - シフト交換依頼フォームの従業員選択でもID順ソート
  - 見積時間: 0.5時間

- [x] 各所の文言修正
  - より分かりやすい文言に変更する
  - ユーザーにとって理解しやすい表現に統一
  - 見積時間: 1時間

- [x] トースト形式のメッセージ表示
  - エラーや成功時のメッセージをトースト形式で表示する
  - 既存のMessageHandlerを活用して統一感を保つ
  - 見積時間: 1.5時間

- [x] 詳細なエラー文言
  - エラーメッセージをより具体的で分かりやすくする
  - ユーザーが対処しやすい情報を提供
  - 見積時間: 1時間

#### Phase 4-2: 追加UX改善 ✅ **完了**
- [x] 文言の不整合修正
  - 「ホーム画面」を「シフトページ」に統一
  - 戻るボタンの文言を実際の遷移先と一致させる
  - 見積時間: 1時間

- [x] 残りのalertをトースト形式に変更
  - 各ビューファイルのalert呼び出しをwindow.messageHandler.showに置換
  - フォールバック機能の実装
  - 見積時間: 1時間

- [x] 複数人へのシフト交代リクエストで部分成功時の詳細メッセージ実装
  - ShiftOverlapServiceにget_available_and_overlapping_employeesメソッド追加
  - 利用可能な従業員のみにリクエスト送信
  - 重複している従業員の名前を含む詳細な成功メッセージ
  - 見積時間: 1.5時間

- [x] JavaScriptエラーの修正とフラッシュメッセージ表示の改善
  - 変数名の重複エラー修正（style → messageStyle, loadingStyle）
  - DOM要素の存在チェック追加
  - 初期化タイミングの改善
  - エラーハンドリングの強化
  - 見積時間: 1.5時間

#### Phase 4-3: 残存課題の解決 ✅ **完了**
- [x] フラッシュメッセージ表示の完全修正 ✅ **完了**
  - 課題: シフト交代リクエストの部分成功メッセージがトースト通知で正しく表示されない
  - 現状: 部分成功メッセージは正常に表示されることを確認
  - 見積時間: 1.5時間
  - 優先度: 高

### Phase 5: UI/UX改善・情報設計最適化 ✅ **完了**
**期間**: 完了済み
**優先度**: ✅ 完了

#### Phase 5-1: ダッシュボード簡素化 ✅ **完了**
- [x] ダッシュボードビューの更新
  - [x] 103万の壁ゲージセクションを削除
  - [x] 月別勤怠履歴を今月の履歴のみに変更
  - [x] 打刻ボタンのデザイン改善
  - [x] ナビゲーションをクイックアクセスに変更

- [x] コントローラーの更新
  - [x] DashboardControllerの修正
  - [x] 給与情報の取得処理を削除
  - [x] 今月の勤怠履歴取得処理を追加

- [x] スタイリングの更新
  - [x] ダッシュボード専用CSSの作成
  - [x] 打刻ボタンの強調スタイル
  - [x] 今月の勤怠履歴の表示スタイル
  - [x] クイックアクセスのスタイル

#### Phase 5-2: ヘッダーナビゲーション導入 ✅ **完了**
- [x] ヘッダーコンポーネントの作成
  - [x] app/views/shared/_header.html.erbの作成
  - [x] ロゴとブランド名の表示
  - [x] ナビゲーションメニューの実装
  - [x] 権限管理による表示制御
  - [x] アクティブ状態の管理
  - [x] 現在ログインしているユーザー情報の表示

- [x] レイアウトファイルの更新
  - [x] app/views/layouts/application.html.erbの更新
  - [x] ヘッダーコンポーネントの読み込み
  - [x] 既存のナビゲーション削除
  - [x] メタタグとSEO設定の確認

- [x] JavaScript機能の実装
  - [x] モバイルメニューの動作
  - [x] ハンバーガーメニューの開閉
  - [x] メニュー外クリックでの自動クローズ
  - [x] アクティブ状態の管理

- [x] 権限管理の実装
  - [x] オーナー権限の表示制御
  - [x] 給与メニューの表示/非表示
  - [x] 管理機能へのアクセス制御
  - [x] セキュリティの確認

#### Phase 5-3: 情報再配置と新規ページ ✅ **完了**
- [x] シフトページへの給与ゲージ統合
  - [x] シフトページビューの更新
  - [x] オーナー向け：全従業員の給与状況一覧
  - [x] 従業員向け：個人の給与ゲージ
  - [x] 既存のシフト表との統合

- [x] 勤怠履歴機能の統合
  - [x] ダッシュボードでの月別勤怠履歴表示
  - [x] ページネーション機能の復活
  - [x] 前月/次月ナビゲーション
  - [x] 勤怠履歴テーブル表示

- [x] 設定ページの統合
  - [x] 既存コントローラーの活用
  - [x] AuthControllerのpassword_changeアクションを拡張
  - [x] アカウント情報の表示機能追加
  - [x] その他の設定項目の追加

#### Phase 5-4: UX改善とテスト ✅ **完了**
- [x] アクセシビリティの向上
  - [x] WCAG 2.1 AA準拠の確認
  - [x] キーボードナビゲーション対応
  - [x] スクリーンリーダー対応
  - [x] 色のコントラスト比の確認
  - [x] フォーカス表示の改善

- [x] ユーザビリティテストの実施
  - [x] テスト計画の作成
  - [x] テストシナリオの定義
  - [x] テストユーザーの選定
  - [x] 評価指標の設定

- [x] パフォーマンス最適化
  - [x] ページ読み込み速度の改善
  - [x] 画像の最適化
  - [x] CSS/JavaScriptの圧縮
  - [x] キャッシュの設定

- [x] バグ修正と微調整
  - [x] 既知の問題の修正
  - [x] レイアウトの崩れ修正
  - [x] JavaScriptエラーの修正
  - [x] レスポンシブ表示の調整

---

## 🔴 デプロイ前必須（未完了）

### Phase 6: セキュリティ強化（デプロイ前必須）
**期間**: 1-2週間
**優先度**: 🔴 最高

#### Phase 6-1: セッション管理の強化 ✅ **完了**
- [x] セッションタイムアウト機能の実装
  - 一定時間後の自動ログアウト機能（24時間）
  - セッション有効期限の設定
  - セキュリティ向上、不正アクセス防止
  - 見積時間: 4時間
  - **影響**: セキュリティリスクの高い永続セッションを修正
  - **実装完了**: 2025年1月（TDD手法で実装）

- [x] CSRF保護の強化
  - Content Security Policyの有効化
  - CSRFトークンの検証強化
  - セキュリティヘッダーの設定
  - 見積時間: 3時間
  - **影響**: クロスサイトリクエストフォージェリ攻撃の防止
  - **実装完了**: 2025年1月（TDD手法で実装）

#### Phase 6-2: 入力値検証の強化 🔴 **必須**
- [x] サーバーサイドバリデーションの実装
  - 全API関数での厳格な入力値検証
  - SQLインジェクション対策
  - XSS対策の強化
  - データ整合性確保、セキュリティ向上
  - 見積時間: 6時間
  - **影響**: 不正な入力値による攻撃の防止

- [x] 権限チェックの強化
  - 全API関数での権限検証
  - 不正な権限昇格の防止
  - アクセス制御の厳格化
  - 見積時間: 4時間
  - **影響**: 権限昇格攻撃の防止

#### Phase 6-3: データベースセキュリティ ✅ **完了**
- [x] 外部キー制約の追加
  - データ整合性を保証する外部キー制約の設定
  - 参照整合性の確保
  - 見積時間: 3時間
  - **影響**: データ整合性の保証
  - **実装完了**: 2025年1月（TDD手法で実装）

- [x] データベースインデックスの最適化
  - 検索頻度の高いカラムへのインデックス追加
  - パフォーマンス向上
  - 見積時間: 2時間
  - **影響**: クエリパフォーマンスの向上
  - **実装完了**: 2025年1月（TDD手法で実装）

### Phase 7: 機能修正・安定性向上（デプロイ前必須）
**期間**: 1週間
**優先度**: 🔴 高

#### Phase 7-1: 既知の機能不具合修正 ✅ **完了**
- [x] エラーハンドリングの統一と改善 ✅ **完了**
  - 全画面でのエラーメッセージ表示の一貫性確保
  - ユーザーフレンドリーなエラーメッセージの実装
  - エラー発生時の適切なフォールバック処理
  - 見積時間: 3時間
  - 優先度: 高
  - **影響**: ユーザビリティの向上とエラー対応の改善
  - **実装完了**: 2025年1月（TDD手法で実装）
  - **成果**: ErrorHandlerモジュール作成、統一されたエラーメッセージ、セキュリティ向上

#### Phase 7-2: パフォーマンス最適化 ✅ **完了**
- [x] N+1問題の解決
  - find_byの多用によるパフォーマンス問題の修正
  - includes/joinsの適切な使用
  - データベースクエリの最適化
  - 見積時間: 4時間
  - **影響**: レスポンス時間の大幅改善
  - **実装完了**: 2025年1月（TDD手法で実装）

- [x] freee API呼び出しの最適化
  - 重複呼び出しの削減
  - キャッシュ戦略の実装
  - API呼び出し頻度の制限
  - 見積時間: 3時間
  - **影響**: 外部API依存の最適化とコスト削減
  - **実装完了**: 2025年1月（TDD手法で実装）

#### Phase 7-3: ログ・監査機能の実装 ❌ **スキップ**
- [x] ~~ログ機能の実装~~ **スキップ理由**: 短期的使用アプリケーションのため投資対効果が低い
  - ~~操作ログ、エラーログの記録~~
  - ~~デバッグ支援、監査証跡~~
  - ~~セキュリティログの実装~~
  - ~~見積時間: 4時間~~
  - ~~**影響**: 運用監視とセキュリティ監査の実現~~

### Phase 8: 本番環境構築・デプロイ（デプロイ前最終段階）🔴 **集中実施**
**期間**: 明後日まで（緊急）
**優先度**: 🔴 最高
**注意**: Phase 7-3と8-3をスキップし、8-1と8-2に集中

#### Phase 8-1: 本番環境設定 🔴 **必須**
- [ ] 本番環境設定の完了
  - 環境変数の最終確認と設定
  - SSL設定の確認
  - メール設定の最終確認
  - セキュリティ設定の適用
  - 見積時間: 3時間
  - **影響**: 本番環境での安全な運用

- [ ] データベース本番環境準備
  - 本番データベースの設定
  - マイグレーションの実行
  - 初期データの投入
  - バックアップ設定
  - 見積時間: 2時間
  - **影響**: 本番データの安全な管理

#### Phase 8-2: デプロイ・検証 🔴 **必須**
- [ ] Herokuへのデプロイ
  - Herokuアプリケーションの作成
  - 環境変数の設定
  - デプロイの実行
  - LINE Webhook URLの設定・検証
  - 見積時間: 2時間
  - **影響**: 本番環境への安全なデプロイ

- [ ] 本番環境での動作確認
  - 全機能の動作確認
  - パフォーマンステスト
  - エラーハンドリングの確認
  - セキュリティテスト
  - 負荷テスト
  - 見積時間: 4時間
  - **影響**: 本番運用開始前の最終検証

#### Phase 8-3: 運用準備 ❌ **スキップ**
- [x] ~~監視・アラート設定~~ **スキップ理由**: 時間的制約と短期的使用のため
  - ~~アプリケーション監視の設定~~
  - ~~エラーアラートの設定~~
  - ~~パフォーマンス監視の設定~~
  - ~~見積時間: 2時間~~
  - ~~**影響**: 本番運用時の問題早期発見~~

- [x] ~~ドキュメント整備~~ **スキップ理由**: 時間的制約と短期的使用のため
  - ~~運用マニュアルの作成~~
  - ~~障害対応手順書の作成~~
  - ~~バックアップ・復旧手順書の作成~~
  - ~~見積時間: 3時間~~
  - ~~**影響**: 運用チームの効率的な運用支援~~

---

## 🟢 将来の拡張（デプロイ後）

### Phase 9: LINE連携拡張
**期間**: デプロイ後
**優先度**: 🟢 通常

- [ ] LINE Bot機能の実装
  - 個人LINEでの勤怠状況確認
  - 勤怠データの表示
  - 見積時間: 4時間

- [ ] LINE連携の高度な機能
  - 103万の壁ゲージの状況表示
  - 給与情報の確認
  - 見積時間: 3時間

### Phase 10: 統計・レポート機能
**期間**: デプロイ後
**優先度**: 🟢 通常

- [ ] 統計・レポート機能の実装
  - 勤怠統計の表示
  - 給与レポートの生成
  - 見積時間: 5時間

- [ ] カスタマイズ機能の実装
  - 通知設定のカスタマイズ
  - 表示設定の調整
  - 見積時間: 4時間

### Phase 11: バックアップ・復旧機能
**期間**: デプロイ後
**優先度**: 🟢 通常

- [ ] 自動バックアップ機能の実装
  - データのバックアップ機能
  - データ保護、災害復旧
  - 見積時間: 6時間

---

## 📋 デプロイ前チェックリスト

### 🔴 必須項目（デプロイブロッカー）
- [ ] Phase 6: セキュリティ強化（22時間）
  - [x] セッションタイムアウト機能の実装 ✅ **完了**
  - [x] CSRF保護の強化 ✅ **完了**
  - [ ] サーバーサイドバリデーションの実装
  - [ ] 権限チェックの強化
  - [ ] 外部キー制約の追加
  - [ ] データベースインデックスの最適化

- [ ] Phase 7: 機能修正・安定性向上（10時間）
  - [x] シフト交代機能の動作不良修正 ✅ **完了**
  - [x] エラーハンドリングの統一と改善 ✅ **完了**
  - [x] N+1問題の解決 ✅ **完了**
  - [x] freee API呼び出しの最適化 ✅ **完了**
  - [x] ~~ログ機能の実装~~ ❌ **スキップ**

- [ ] Phase 8: 本番環境構築・デプロイ（13時間）
  - [ ] 本番環境設定の完了
  - [ ] データベース本番環境準備
  - [ ] Herokuへのデプロイ
  - [ ] 本番環境での動作確認
  - [x] ~~監視・アラート設定~~ ❌ **スキップ**
  - [x] ~~ドキュメント整備~~ ❌ **スキップ**

### 📊 総見積時間（更新版）
- **デプロイ前必須**: 40時間（約5週間）
- **優先度別内訳**:
  - 🔴 セキュリティ強化: 17時間（完了）
  - 🔴 機能修正・安定性: 10時間（Phase 7-3スキップ）
  - 🔴 本番環境構築: 13時間（Phase 8-3スキップ）
- **スキップ項目**:
  - ❌ Phase 7-3: ログ・監査機能（4時間）
  - ❌ Phase 8-3: 運用準備（5時間）

### 更新履歴
- 2024年: TODOファイルの構造化とタスク管理形式への変更
- 基本機能の実装完了
- ドキュメント整備完了
- Rails移行計画の策定（GASの制約により方針転換）
- Rails移行準備完了（データベース設計、ドキュメント整備、不要ファイル削除）
- 2025年1月: UX改善タスクの追加（Phase 4-1）
- 2025年1月: Phase 4-1 UX改善実装完了（5.5時間）
- 2025年1月: フラッシュメッセージのトースト形式化完了
- 2025年1月: 追加UX改善完了（文言統一、alert置き換え、ナビゲーション改善）
- 2025年1月: Phase 4-2 追加UX改善完了（5時間）
- 2025年1月: JavaScriptエラー修正完了、フラッシュメッセージ表示の課題を特定
- 2025年1月: TODO優先順位の再編成（フェーズ順を維持しつつ、UX改善・エラー修正をデプロイ前最優先に設定）
- 2025年1月: Phase 5 UI/UX改善実装完了（ダッシュボード簡素化、ヘッダーナビゲーション、情報再配置、フォームデザイン統一）
- 2025年1月: シフト追加リクエストフォームのデザイン統一完了
- 2025年1月: フラッシュメッセージ表示問題解決、シフト交代機能の動作不良を新規課題として追加
- 2025年1月: シフト追加リクエストエラーの修正完了（変数名不一致とメソッド引数不一致の修正）
- 2025年1月: 認証関連ビューでの従業員IDキー名不一致の修正完了（emp[:employee_id] → emp[:id]）
- 2025年1月: メールテンプレートのCSS適用問題修正完了（<style>タグの追加）
- 2025年1月: ログイン時の従業員選択エラー修正完了（認証関連ビューでのキー名統一）
- 2025年1月: AuthControllerTestの失敗テスト修正完了（setup_initial_password_urlの使用）
- 2025年1月: SCSSファイル統合完了（複数CSSファイルの管理改善）
- 2025年1月: HTML読み込み部分の修正完了（stylesheet_link_tagの修正）
- 2025年1月: テストデータ削除とfreeeAPI完全移行完了（従業員データの一元化）
- 2025年1月: 103万の壁ゲージ読み込み問題修正完了（WageServiceのfreeeAPI連携）
- 2025年1月: ログイン認証システム修正完了（AuthServiceのfreeeAPI統合）
- 2025年1月: シフトリクエスト一覧ページのデザイン改善完了（ボタン色変更、カード幅調整）
- 2025年1月: 不要な_main.scssファイル削除完了（404エラー解消）
- 2025年1月: カード間隔調整とHTML構造簡素化完了（謎の領域削除）
- 2025年1月: 余分な線の削除完了（h1要素のborder-bottom削除）
- 2025年1月: ドキュメント整備完了（README.md更新、API仕様書作成、セットアップガイド作成）
- 2025年1月: TODOファイルの大規模再構築完了（デプロイ前必須項目の整理、優先度の明確化、チェックリストの追加）
- 2025年1月: TODOファイルのフェーズ順序整理完了（完了/未完了の明確化、フェーズ順の整理）
- 2025年1月: Phase 6-1 セキュリティ強化完了（セッションタイムアウト機能、CSRF保護の強化をTDD手法で実装）
- 2025年1月: Phase 6-2 入力値検証と権限チェック完了（テストスイート完全修復、Rails 8.0対応、非推奨警告解消、モジュール一貫適用）
- 2025年1月: Phase 6-3 データベースセキュリティ完了（外部キー制約追加、データベースインデックス最適化、データクリーンアップをTDD手法で実装）
- 2025年1月: Phase 7-1 エラーハンドリング統一・改善完了（ErrorHandlerモジュール作成、統一されたエラーメッセージ、セキュリティ向上、ユーザビリティ改善をTDD手法で実装）
- 2025年1月: Phase 7-2 パフォーマンス最適化完了（N+1問題解決、freee API呼び出し最適化、キャッシュ戦略実装、レート制限実装をTDD手法で実装）
- 2025年1月: Phase 7-3と8-3をスキップ決定（短期的使用アプリケーションのため、時間的制約を考慮しPhase 8-1と8-2に集中）