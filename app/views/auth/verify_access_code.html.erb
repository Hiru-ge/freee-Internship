<div class="container access-control-page">
  <div class="login-container">
    <h1>勤怠管理システム</h1>
    <h2>認証コード入力</h2>

    <div class="form-description">
      <strong>認証コードを送信しました</strong><br>
      <%= session[:pending_email] %> に送信された6桁の認証コードを入力してください。
    </div>

    <%= form_with url: verify_access_path, method: :post, local: true, id: "verify-code-form" do |form| %>
      <div class="form-group code-input-group">
        <%= form.label :code, "認証コード:", class: "code-label" %>
        <%= form.text_field :code,
              placeholder: "123456",
              required: true,
              maxlength: 6,
              pattern: "[0-9]{6}",
              value: params[:code],
              id: "code-input" %>
      </div>

      <div class="form-actions">
        <%= form.submit "認証", class: "button" %>
      </div>
    <% end %>

    <div class="login-links">
      <%= link_to "戻る", root_path, class: "link" %>
    </div>

    <div class="form-help">
      <strong>注意事項:</strong>
      <ul>
        <li>認証コードは10分間のみ有効です</li>
        <li>認証コードは一度のみ使用できます</li>
        <li>メールが届かない場合は、迷惑メールフォルダも確認してください</li>
      </ul>
    </div>
  </div>
</div>

<%= javascript_include_tag "auth" %>
