# 勤怠管理システム ユーザーマニュアル

## はじめに

このガイドは、勤怠管理システムの基本的な使い方を説明します。LINE BotとWebアプリケーションを使って、シフト管理や交代申請などを行えます。

## システムの機能

### 主要機能
- **シフト確認**: 自分のシフトや全従業員のシフトを確認
- **シフト交代**: シフトの交代依頼と承認
- **シフト追加**: 新しいシフトの追加（オーナーのみ）
- **欠勤申請**: シフトの欠勤申請と承認
- **勤怠打刻**: 出勤・退勤の打刻
- **給与管理**: 103万の壁ゲージ表示

## 使い始める

### 1. アクセス認証
1. ブラウザでシステムにアクセス
2. 許可されたメールアドレスを入力
3. メールで送信される認証コードを入力
4. ログイン画面に進む

### 2. 初回ログイン
1. 従業員IDを入力
2. メールで送信される認証コードを入力
3. 初期パスワードを設定
4. ダッシュボードにアクセス

### 3. LINE Botの認証
1. LINEアプリで勤怠管理システムのBotを友達追加
2. **個人チャット**で「認証」と入力
3. 従業員名を入力（例：田中太郎）
4. メールで送信される認証コードを入力

> **注意**: 認証は個人チャットでのみ可能です。

## LINE Botの使い方

### 基本コマンド

#### ヘルプ
```
ヘルプ
```
- 利用可能なコマンド一覧を表示
- 個人チャット・グループチャット両方で利用可能

#### 認証
```
認証
```
- 従業員アカウントとLINEアカウントを紐付け
- **個人チャットでのみ利用可能**
- 認証後はシフト管理機能が利用可能

#### シフト確認
```
シフト確認
```
- 自分の今月のシフトを確認
- 認証済みユーザーのみ利用可能

#### 全員シフト確認
```
全員シフト確認
```
- 全従業員の今月のシフトを確認
- 認証済みユーザーのみ利用可能

### シフト交代機能

#### 交代依頼
```
交代依頼
```
1. 交代したいシフトの日付を入力（例：12/25）
2. 表示されたシフトから交代したいシフトを選択
3. 交代先の従業員名を入力
4. 確認画面で「はい」を選択して依頼送信

#### 依頼確認
```
依頼確認
```
- 自分に来ている承認待ちの依頼を確認
- 承認・拒否ボタンで処理可能
- 依頼がない場合は「承認待ちの依頼はありません。」と表示

### シフト追加機能（オーナーのみ）

#### 追加依頼
```
追加依頼
```
1. 追加したいシフトの日付を入力（例：12/25）
2. 時間を入力（例：9:00-17:00）
3. 対象従業員を選択（複数選択可能）
4. 確認画面で「はい」を選択して依頼送信

### シフト削除機能

#### 欠勤申請
```
欠勤申請
```
1. 欠勤したいシフトの日付を入力（例：12/25）
2. 表示されたシフトから欠勤したいシフトを選択
3. 欠勤理由を入力（例：体調不良のため）
4. 確認画面で「はい」を選択して申請送信


## Webアプリケーション

### 基本的な使い方
1. ブラウザでシステムにアクセス
2. アクセス認証（メールアドレス + 認証コード）
3. ログイン（従業員ID + パスワード）
4. ダッシュボードで各種機能を利用

### 主な機能
- **ダッシュボード**: 打刻機能に特化したシンプルなインターフェース
- **シフト表の表示**: 週単位での表示、ナビゲーション機能
- **シフト管理**: シフトの追加・編集（オーナーのみ）
- **勤怠打刻**: 出勤・退勤の打刻
- **申請管理**: シフト交代・追加・削除申請の確認・承認
- **給与管理**: 103万の壁ゲージ表示
- **パスワード変更**: セキュリティ管理

### シフト表の表示
- **初期表示**: 今日の日付を含む週が最初に表示されます
- **週単位表示**: 7日分のシフトが表示されます
- **最後のページ**: その月の最後の7日分が表示されます（翌月は含まれません）
- **ナビゲーション**: 左右の矢印ボタンで週を移動できます

### セレクトボックスの改善
- **幅の拡張**: セレクトボックスの幅が拡張され、長い項目名も適切に表示されます
- **最小幅の設定**: 最小幅200px、最大幅300pxで表示されます

## 入力形式

### 日付入力
- **月/日形式**：12/25、9/20
- **ゼロパディング**：09/20（推奨）
- **年は自動判定**：12月に1/1と入力すると翌年の1月1日として認識

### 時間入力
- **開始時間-終了時間形式**：9:00-17:00
- **24時間表記**：09:00-17:00（推奨）

## チャットの使い分け

### 個人チャット
- すべてのコマンドが利用可能
- 認証機能が利用可能
- コマンド以外のメッセージには「コマンドは認識できませんでした」と返答

### グループチャット
- シフト管理機能のみ利用可能
- 認証機能は利用不可（個人チャットで認証が必要）
- コマンド以外のメッセージには返答しない（会話の妨げを避ける）

## 通知

### メール通知
- シフト交代依頼の受信
- シフト追加依頼の受信
- シフト削除申請の受信
- 承認・拒否の結果通知
- 認証コードの送信
- 打刻リマインダー

> **注意**: 通知はメールのみで送信されます。

## 注意事項

### 認証について
- アクセス認証は許可されたメールアドレスでのみ可能
- 認証は個人チャットでのみ可能
- 認証コードはメールで送信されるため、数分かかる場合があります
- 認証コードは有効期限があります
- 初回ログイン時は初期パスワードの設定が必要

### シフト管理について
- 過去のシフトは選択できません
- 既にシフトがある時間帯は重複チェックされます
- オーナーのみシフト追加機能が利用可能
- シフト削除申請は全従業員が利用可能

### エラーメッセージ
- 「認証が必要です」：認証を完了してください
- 「そのコマンドは認識できませんでした」：正しいコマンドを入力してください
- 「日付の形式が正しくありません」：MM/DD形式で入力してください

## よくある問題と解決方法

### 認証・ログイン関連

#### Q: 認証コードが届かない
A: メールの送信には数分かかる場合があります。迷惑メールフォルダも確認してください。

#### Q: ログインできません
A: メールアドレスとパスワードが正しいか確認し、ブラウザのキャッシュをクリアしてください。

#### Q: パスワードを忘れました
A: システム管理者に連絡して、パスワードリセットを依頼してください。

### LINE Bot関連

#### Q: LINE Botのコマンドが認識されません
A: コマンドのスペルが正しいか、認証が完了しているか確認してください。「ヘルプ」コマンドで利用可能なコマンドを確認できます。

#### Q: グループチャットでLINE Botが反応しません
A: グループチャットでは認証機能は利用できません。個人チャットで認証を行い、グループではシフト管理機能のみ利用可能です。

#### Q: Flex Messageが表示されません
A: LINEアプリが最新版か、ネットワーク接続が正常か確認してください。しばらく待ってから再試行してください。

### シフト管理関連

#### Q: シフトが表示されません
A: 指定した日付にシフトが存在するか、日付の形式が正しいか（MM/DD形式）、未来の日付を指定しているか確認してください。

#### Q: シフト交代依頼ができません
A: 過去のシフトは交代依頼できません。未来のシフトを選択してください。

#### Q: シフト追加依頼ができません
A: シフト追加依頼はオーナーのみ利用可能です。一般従業員は利用できません。

#### Q: 欠勤申請ができません
A: 過去のシフトは欠勤申請できません。未来のシフトのみ申請可能です。

### 通知関連

#### Q: メール通知が届きません
A: 迷惑メールフォルダを確認し、メールアドレスが正しいか、通知設定が有効になっているか確認してください。

#### Q: 打刻リマインダーが届きません
A: リマインダー設定が無効か、リマインダー時間の設定が間違っている可能性があります。システム管理者にリマインダー設定を確認してください。

### Webアプリケーション関連

#### Q: ページが表示されません
A: ネットワーク接続を確認し、ブラウザのキャッシュをクリアしてください。別のブラウザで試行し、システムのメンテナンス中でないか確認してください。

#### Q: セレクトボックスの幅が狭くて項目が見えません
A: ブラウザの表示倍率を100%に設定し、推奨ブラウザを使用してください。ページを再読み込みしてください。

#### Q: シフト表の表示がおかしいです
A: ブラウザの表示倍率を100%に設定し、ブラウザのキャッシュをクリアしてください。別のブラウザで試行してください。

#### Q: データが更新されません
A: データの同期遅延（数分待機）か、ブラウザのキャッシュの問題の可能性があります。それでも解決しない場合はシステム管理者に連絡してください。

### データ関連

#### Q: 勤怠データが正しく表示されません
A: データの同期遅延（数分待機）か、ブラウザのキャッシュの問題の可能性があります。データの入力が正しいか確認し、それでも解決しない場合はシステム管理者に連絡してください。

### セキュリティ・権限関連

#### Q: アクセスが拒否されました
A: メールアドレスが登録されていないか、権限が不足している可能性があります。アカウントがロックされている場合は、システム管理者に連絡してください。

#### Q: 特定の機能が利用できません
A: 権限が不足しているか、認証が完了していない可能性があります。機能が無効になっている場合は、システム管理者に連絡してください。

#### Q: セッションが切れました
A: 再度ログインしてください。セッションタイムアウトは設定により異なります。

### システム・技術関連

#### Q: システムが重いです
A: ブラウザのキャッシュをクリアし、不要なタブを閉じてください。ネットワーク接続を確認し、それでも解決しない場合はシステム管理者に連絡してください。

#### Q: エラーメッセージが表示されます
A: エラーメッセージの内容を確認し、このドキュメントを参照してください。それでも解決しない場合は、システム管理者に連絡してください。

## サポート

問題が解決しない場合は、システム管理者にお問い合わせください。

**バージョン**: 1.0.0
